# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## –ß—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ `npm run docker:up`

–í `docker-compose.simple.yml` –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è **–¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**:

### 1. üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (`supabase`)
- **–ü–æ—Ä—Ç**: 54322 (–≤–Ω–µ—à–Ω–∏–π) ‚Üí 5432 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä**: `fb-net-supabase-db`
- **–ß—Ç–æ —ç—Ç–æ**: –¢–æ–ª—å–∫–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (–±–µ–∑ API Gateway, Auth, Storage)

### 2. üöÄ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`nextjs-app`)
- **–ü–æ—Ä—Ç**: 3000
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä**: `fb-net-nextjs`
- **–ß—Ç–æ —ç—Ç–æ**: –í–∞—à–µ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ

### `docker-compose.simple.yml` (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
```yaml
services:
  supabase:      # –¢–æ–ª—å–∫–æ PostgreSQL
  nextjs-app:    # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
- ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚ùå –ù–µ—Ç Supabase API Gateway
- ‚ùå –ù–µ—Ç Supabase Auth
- ‚ùå –ù–µ—Ç Supabase Storage
- ‚ö†Ô∏è –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL

### `docker-compose.yml` (–ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫ Supabase)
```yaml
services:
  supabase-db:      # PostgreSQL
  supabase-kong:    # API Gateway
  supabase-auth:    # Authentication
  supabase-storage: # File Storage
  supabase-studio:  # Admin UI
  nextjs-app:       # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª Supabase
- ‚úÖ Supabase JS –∫–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚úÖ Auth, Storage, Realtime
- ‚ùå –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚ùå –ë–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

### –í `docker-compose.simple.yml`:

**–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (–±—Ä–∞—É–∑–µ—Ä):**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `NEXT_PUBLIC_SUPABASE_URL=http://localhost:54322`
- –ü—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL –Ω–∞–ø—Ä—è–º—É—é
- ‚ö†Ô∏è –≠—Ç–æ **–Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å** —Å Supabase JS –∫–ª–∏–µ–Ω—Ç–æ–º, —Ç–∞–∫ –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç –æ–∂–∏–¥–∞–µ—Ç API endpoint

**–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (Next.js —Å–µ—Ä–≤–µ—Ä):**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `DATABASE_URL=postgresql://postgres:postgres@supabase:5432/postgres`
- –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL —á–µ—Ä–µ–∑ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ `supabase`
- ‚úÖ –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥)
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å `docker-compose.simple.yml`
‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
‚ùå –ù–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫ Supabase
‚úÖ –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
‚úÖ –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
‚ùå –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
```bash
docker-compose up -d  # –≤–º–µ—Å—Ç–æ docker-compose.simple.yml
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Supabase CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
```bash
npm run setup:supabase
```
‚úÖ –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±
‚úÖ –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

## üìù –ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞

–ü—Ä–∏ `npm run docker:up` –∏–ª–∏ `docker-compose -f docker-compose.simple.yml up -d`:

1. **–°–Ω–∞—á–∞–ª–∞** –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `supabase` (PostgreSQL)
2. **–ñ–¥–µ—Ç** –ø–æ–∫–∞ –±–∞–∑–∞ —Å—Ç–∞–Ω–µ—Ç –∑–¥–æ—Ä–æ–≤–æ–π (`healthcheck`)
3. **–ó–∞—Ç–µ–º** –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `nextjs-app` (Next.js)
4. **–û–±–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
# - fb-net-supabase-db (PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 54322)
# - fb-net-nextjs (Next.js –Ω–∞ –ø–æ—Ä—Ç—É 3000)

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs fb-net-supabase-db
docker logs fb-net-nextjs

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ
npm run docker:psql
```

