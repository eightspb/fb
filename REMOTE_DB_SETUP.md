# –†–∞–±–æ—Ç–∞ —Å —É–¥–∞–ª—ë–Ω–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å.

## üéØ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è, –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–∫–ª—é—á–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π Next.js –∫ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π SSH —Ç—É–Ω–Ω–µ–ª—å.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑—ã
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞—ë—Ç—Å—è –∑–∞—â–∏—â—ë–Ω–Ω–æ–π (–ø–æ—Ä—Ç –Ω–µ –æ—Ç–∫—Ä—ã—Ç –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
- ‚úÖ –ü—Ä–æ–¥–∞–∫—à–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ú–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π –∏ —É–¥–∞–ª—ë–Ω–Ω–æ–π –±–∞–∑–æ–π

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –õ–æ–∫–∞–ª—å–Ω—ã–π Next.js  ‚îÇ
‚îÇ   localhost:3000    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ DATABASE_URL=localhost:54321
           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    SSH Tunnel       ‚îÇ
‚îÇ   localhost:54321   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ SSH (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ)
           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –°–µ—Ä–≤–µ—Ä (155.x.x.x) ‚îÇ
‚îÇ                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Docker: app   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  –æ–±—ã—á–Ω–æ)      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ          ‚îÇ          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Docker:       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ PostgreSQL    ‚îÇ‚óÑ‚îÄ‚îº‚îÄ SSH —Ç—É–Ω–Ω–µ–ª—å –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —Å—é–¥–∞
‚îÇ  ‚îÇ (fb-net-db)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–í–∞–∂–Ω–æ:** –ü—Ä–æ–¥–∞–∫—à–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ, SSH —Ç—É–Ω–Ω–µ–ª—å –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –Ω–µ–≥–æ.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SSH —Ä–∞–±–æ—Ç–∞–µ—Ç

```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@155.212.217.60

# –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - –æ—Ç–ª–∏—á–Ω–æ! –ï—Å–ª–∏ –Ω–µ—Ç - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —Å —É–¥–∞–ª—ë–Ω–Ω–æ–π –±–∞–∑–æ–π

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
.\scripts\dev-remote.ps1

# –ò–ª–∏ —á–µ—Ä–µ–∑ npm —Å–∫—Ä–∏–ø—Ç
bun run dev:remote
```

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä

–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000` - –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑—ã!

---

## üìù –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏?

–°–∫—Ä–∏–ø—Ç `dev-remote.ps1` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –∫ —Å–µ—Ä–≤–µ—Ä—É
2. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. **–°–æ–∑–¥–∞—ë—Ç SSH —Ç—É–Ω–Ω–µ–ª—å**: `localhost:54321` ‚Üí `server:5432` (PostgreSQL –≤ Docker)
4. **–ó–∞–ø—É—Å–∫–∞–µ—Ç Next.js dev —Å–µ—Ä–≤–µ—Ä** —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ `localhost:54321`
5. **–ü—Ä–∏ Ctrl+C –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç** —Ç—É–Ω–Ω–µ–ª—å –∏ dev —Å–µ—Ä–≤–µ—Ä

---

## üîß –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ PowerShell —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```powershell
.\scripts\dev-remote.ps1
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é (2 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - SSH —Ç—É–Ω–Ω–µ–ª—å:**
```powershell
ssh -N -L 54321:localhost:5432 root@155.212.217.60
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Next.js dev —Å–µ—Ä–≤–µ—Ä:**
```powershell
bun run dev
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ npm —Å–∫—Ä–∏–ø—Ç

```powershell
bun run dev:remote
```

---

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π –∏ —É–¥–∞–ª—ë–Ω–Ω–æ–π –±–∞–∑–æ–π

### –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ (–ø—É—Å—Ç–∞—è)

```powershell
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π PostgreSQL
bun run docker:up

# 2. –ò–∑–º–µ–Ω–∏—Ç—å .env.local
# DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
bun run dev
```

### –£–¥–∞–ª—ë–Ω–Ω–∞—è –±–∞–∑–∞ (–ø—Ä–æ–¥–∞–∫—à–Ω –¥–∞–Ω–Ω—ã–µ)

```powershell
# 1. –ò–∑–º–µ–Ω–∏—Ç—å .env.local (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
# DATABASE_URL=postgresql://postgres:8mdJhdzeAGTVOtL%2FwXK1lZ2b%2F5T3VhAd@localhost:54321/postgres

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å —Ç—É–Ω–Ω–µ–ª–µ–º
.\scripts\dev-remote.ps1
```

**–°–æ–≤–µ—Ç:** –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ/—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—É—é —Å—Ç—Ä–æ–∫—É `DATABASE_URL` –≤ `.env.local`

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é PostgreSQL –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```powershell
bun run tunnel:check
```

–í—ã–≤–æ–¥:
```
PostgreSQL 15.x on x86_64-pc-linux-gnu, compiled by gcc...
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ—Ä—Ç 54321 —Å–ª—É—à–∞–µ—Ç
netstat -an | findstr 54321

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# TCP    127.0.0.1:54321        0.0.0.0:0              LISTENING
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```powershell
ssh root@155.212.217.60 "docker ps | grep fb-net-db"

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# fb-net-db   postgres:15   Up X hours   5432/tcp
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü–æ—á–µ–º—É —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ?

‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞—â–∏—â–µ–Ω–∞:**
- –ü–æ—Ä—Ç PostgreSQL (5432) **–Ω–µ –æ—Ç–∫—Ä—ã—Ç** –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ SSH (—Ç—Ä–µ–±—É–µ—Ç—Å—è SSH –∫–ª—é—á)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è SSH –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

‚úÖ **–ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
- –ù–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–æ—Ä—Ç—ã –≤ firewall
- –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL
- –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

‚úÖ **–ü—Ä–æ–¥–∞–∫—à–Ω –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `fb-net-app` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `fb-net-db` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ
- SSH —Ç—É–Ω–Ω–µ–ª—å - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ø—Ä–æ–µ–∫—Ç–µ?

**–õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ):**
- `.env.local` - –¥–æ–±–∞–≤–ª–µ–Ω `DATABASE_URL` –¥–ª—è —Ç—É–Ω–Ω–µ–ª—è (–ø–æ—Ä—Ç 54321)
- `package.json` - –¥–æ–±–∞–≤–ª–µ–Ω—ã npm —Å–∫—Ä–∏–ø—Ç—ã (`dev:remote`, `tunnel:start`, `tunnel:check`)
- `scripts/dev-remote.ps1` - –Ω–æ–≤—ã–π PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:** 0 –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚úÖ

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É"

**–ü—Ä–∏—á–∏–Ω–∞:** SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh root@155.212.217.60

# –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏
# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ ~/.ssh/config
```

---

### –û—à–∏–±–∫–∞: "PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω"

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä `fb-net-db` –Ω–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@155.212.217.60 "cd /opt/fb-net && docker compose -f docker-compose.production.yml up -d postgres"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
ssh root@155.212.217.60 "docker ps | grep fb-net-db"
```

---

### –û—à–∏–±–∫–∞: "–ü–æ—Ä—Ç 54321 —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è"

**–ü—Ä–∏—á–∏–Ω–∞:** SSH —Ç—É–Ω–Ω–µ–ª—å —É–∂–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º.

**–†–µ—à–µ–Ω–∏–µ 1 - –ó–∞–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç—É–Ω–Ω–µ–ª—å:**
```powershell
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 54321
Get-NetTCPConnection -LocalPort 54321 | Select-Object OwningProcess

# –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID)
Stop-Process -Id <PID> -Force
```

**–†–µ—à–µ–Ω–∏–µ 2 - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç:**

–ò–∑–º–µ–Ω–∏—Ç–µ –≤ —Ñ–∞–π–ª–∞—Ö:
- `.env.local`: `DATABASE_URL=...@localhost:54322/...` (–≤–º–µ—Å—Ç–æ 54321)
- `package.json`: `tunnel:start` —Å `-L 54322:localhost:5432`
- `scripts/dev-remote.ps1`: –ø–∞—Ä–∞–º–µ—Ç—Ä `-LocalPort 54322`

---

### –û—à–∏–±–∫–∞: "Cannot connect to database"

**–ü—Ä–∏—á–∏–Ω–∞:** –¢—É–Ω–Ω–µ–ª—å —Å–æ–∑–¥–∞–Ω, –Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç
netstat -an | findstr 54321

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ .env.local
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å URL-encoded: 8mdJhdzeAGTVOtL%2FwXK1lZ2b%2F5T3VhAd

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PostgreSQL –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@155.212.217.60 "docker logs fb-net-db --tail=50"

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
ssh root@155.212.217.60 "docker exec fb-net-db psql -U postgres -d postgres -c 'SELECT 1;'"
```

---

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö "read-only" –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** –í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å **–ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**.

**–í–∞–∂–Ω–æ:**
- ‚ö†Ô∏è –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ **—Ä–µ–∞–ª—å–Ω—ã–µ** –∏ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
- ‚ö†Ô∏è –ù–µ —É–¥–∞–ª—è–π—Ç–µ –∏ –Ω–µ –∏–∑–º–µ–Ω—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É (`bun run docker:up && bun run dev`)

---

### –¢—É–Ω–Ω–µ–ª—å –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–∞–º –ø–æ —Å–µ–±–µ

**–ü—Ä–∏—á–∏–Ω–∞:** SSH —Å–µ—Å—Å–∏—è —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑-–∑–∞ —Ç–∞–π–º–∞—É—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH keep-alive:**

–î–æ–±–∞–≤—å—Ç–µ –≤ `~/.ssh/config`:
```
Host 155.212.217.60
    ServerAliveInterval 60
    ServerAliveCountMax 3
```

–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
```powershell
ssh -N -L 54321:localhost:5432 -o ServerAliveInterval=60 root@155.212.217.60
```

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ

```powershell
# –ß–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å (–ª–æ–∫–∞–ª—å–Ω–æ)
bun run tunnel:check

# –ù–∞–ø—Ä—è–º—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@155.212.217.60 "docker exec fb-net-db psql -U postgres -d postgres -c 'SELECT version();'"
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ

```powershell
ssh root@155.212.217.60 "docker exec fb-net-db psql -U postgres -d postgres -c '\dt'"
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π

```powershell
ssh root@155.212.217.60 "docker exec fb-net-db psql -U postgres -d postgres -c 'SELECT COUNT(*) FROM news;'"
```

### –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ SSH —Ç—É–Ω–Ω–µ–ª–∏

```powershell
# –ù–∞–π—Ç–∏ –≤—Å–µ SSH –ø—Ä–æ—Ü–µ—Å—Å—ã
Get-Process ssh

# –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ SSH –ø—Ä–æ—Ü–µ—Å—Å—ã
Get-Process ssh | Stop-Process -Force
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü–æ—á–µ–º—É –ø–æ—Ä—Ç 54321, –∞ –Ω–µ 5432?

- `5432` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç PostgreSQL (–º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–Ω—è—Ç –ª–æ–∫–∞–ª—å–Ω—ã–º PostgreSQL)
- `54322` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º Docker PostgreSQL (`docker-compose.yml`)
- `54321` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è SSH —Ç—É–Ω–Ω–µ–ª—è –∫ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑–µ

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–º–µ—Ç—å:
- –õ–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –Ω–∞ `54322`
- –£–¥–∞–ª—ë–Ω–Ω—É—é –±–∞–∑—É –Ω–∞ `54321` (—á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å)

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç SSH —Ç—É–Ω–Ω–µ–ª—å?

```
ssh -N -L 54321:<CONTAINER_IP>:5432 root@155.212.217.60
```

- `-N` - –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã, —Ç–æ–ª—å–∫–æ —Ç—É–Ω–Ω–µ–ª—å
- `-L 54321:<CONTAINER_IP>:5432` - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç 54321 –Ω–∞ IP –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PostgreSQL –≤ Docker —Å–µ—Ç–∏
- `<CONTAINER_IP>` - IP –∞–¥—Ä–µ—Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 172.18.0.3), –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–º
- **–í–∞–∂–Ω–æ:** PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –ø—É–±–ª–∏–∫—É–µ—Ç –ø–æ—Ä—Ç—ã –Ω–∞—Ä—É–∂—É, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –µ–≥–æ IP –≤ Docker —Å–µ—Ç–∏

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**‚ùå –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
```env
DATABASE_URL=postgresql://postgres:password@155.212.217.60:5432/postgres
```
–¢—Ä–µ–±—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ—Ä—Ç–∞ 5432 –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç - **–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ!**

**‚ùå Proxy API:**
–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π API —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ - **–∏–∑–±—ã—Ç–æ—á–Ω–æ —Å–ª–æ–∂–Ω–æ**.

**‚úÖ SSH —Ç—É–Ω–Ω–µ–ª—å (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):**
–ë–µ–∑–æ–ø–∞—Å–Ω–æ, –ø—Ä–æ—Å—Ç–æ, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

---

## üéì Best Practices

1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–¥–∞–ª—ë–Ω–Ω—É—é –±–∞–∑—É (`.\scripts\dev-remote.ps1`)
2. **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ–∏—á** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É (`bun run docker:up && bun run dev`)
3. **–ù–µ –∏–∑–º–µ–Ω—è–π—Ç–µ –ø—Ä–æ–¥–∞–∫—à–Ω –¥–∞–Ω–Ω—ã–µ** –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. **–ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å** –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã (Ctrl+C)
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã

---

## üìû –ü–æ–º–æ—â—å

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `ssh root@155.212.217.60`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: `ssh root@155.212.217.60 "docker ps | grep fb-net-db"`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç: `netstat -an | findstr 54321`
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª Troubleshooting –≤—ã—à–µ
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: –∑–∞–∫—Ä–æ–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã

- [ ] SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É —Ä–∞–±–æ—Ç–∞–µ—Ç (`ssh root@155.212.217.60`)
- [ ] PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (`docker ps | grep fb-net-db`)
- [ ] `.env.local` –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å `DATABASE_URL=...@localhost:54321/...`
- [ ] –ü–æ—Ä—Ç 54321 —Å–≤–æ–±–æ–¥–µ–Ω (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏)
- [ ] –ó–∞–ø—É—â–µ–Ω —Å–∫—Ä–∏–ø—Ç `.\scripts\dev-remote.ps1`
- [ ] –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä—ã—Ç –Ω–∞ `http://localhost:3000`
- [ ] –í–∏–¥–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–¥–∞–∫—à–Ω –±–∞–∑—ã

**–ì–æ—Ç–æ–≤–æ! –ú–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –ø—Ä–æ–¥–∞–∫—à–Ω –¥–∞–Ω–Ω—ã–º–∏! üöÄ**
